(self.webpackChunktraveling_front=self.webpackChunktraveling_front||[]).push([[71],{6199:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AuthModule:()=>x});var a=r(8583),i=r(6983),o=r(3679),n=r(6054),s=r(7716),u=r(2542),l=r(5837),m=r(2553),c=r(2522),Z=r(3738),g=r(8295),p=r(9983),f=r(6627),d=r(1095);function h(t,e){if(1&t&&(s.TgZ(0,"mat-label",14),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.messageError," ")}}let A=(()=>{class t{constructor(t,e,r){this.authService=t,this.store=e,this.router=r,this.loginForm=new o.cw({email:new o.NI("",[o.kI.required]),password:new o.NI("",[o.kI.required])})}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.subscription=this.store.select("shared").subscribe(t=>{t.url&&(this.url=t.url)})}login(){if(this.loginForm.invalid)return;const t={email:this.loginForm.get("email").value,password:this.loginForm.get("password").value};this.authService.login(t).subscribe(t=>{this.authService.setToken(t.token),this.store.dispatch(n.o({token:t.token})),this.router.navigate(this.url?[this.url]:["/journeys/search"])},t=>{this.showError=!0,this.messageError=t.error.message})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(u.e),s.Y36(l.yh),s.Y36(i.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-login"]],decls:32,vars:2,consts:[["fxLayout","column","fxLayoutGap","35px",1,"animated","fadeIn"],["color","primary"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex","30",1,"mat-elevation-z4"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutGap","15px"],["appearance","fill"],["matInput","","formControlName","email"],["matSuffix",""],["matInput","","type","password","formControlName","password"],["class","color-warn","fxLayoutAlign","center",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],["fxLayoutAlign","center"],["routerLink","/auth/register"],["fxLayoutAlign","center",1,"color-warn"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"mat-toolbar",1),s.TgZ(2,"span"),s._uU(3,"My Application"),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"mat-card",3),s.TgZ(6,"mat-card-header"),s.TgZ(7,"mat-card-title"),s._uU(8," Ingresa para gestionar tus reservas "),s.qZA(),s.qZA(),s.TgZ(9,"mat-card-content"),s.TgZ(10,"form",4),s.NdJ("ngSubmit",function(){return e.login()}),s.TgZ(11,"div",5),s.TgZ(12,"mat-form-field",6),s.TgZ(13,"mat-label"),s._uU(14,"Email"),s.qZA(),s._UZ(15,"input",7),s.TgZ(16,"mat-icon",8),s._uU(17,"alternate_email"),s.qZA(),s.qZA(),s.TgZ(18,"mat-form-field",6),s.TgZ(19,"mat-label"),s._uU(20,"Password"),s.qZA(),s._UZ(21,"input",9),s.TgZ(22,"mat-icon",8),s._uU(23,"security"),s.qZA(),s.qZA(),s.YNc(24,h,2,1,"mat-label",10),s.TgZ(25,"button",11),s._uU(26," Continuar "),s.qZA(),s.TgZ(27,"span",12),s.TgZ(28,"a",13),s._uU(29," Registrarse Aqu\xed"),s.qZA(),s.qZA(),s.TgZ(30,"span",12),s._uU(31,"Powered by Digital Ware"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(10),s.Q6J("formGroup",e.loginForm),s.xp6(14),s.Q6J("ngIf",e.showError))},directives:[m.xw,m.SQ,c.Ye,m.Wh,Z.a8,m.yH,Z.dk,Z.n5,Z.dn,o._Y,o.JL,o.sg,g.KE,g.hX,p.Nt,o.Fj,o.JJ,o.u,f.Hw,g.R9,a.O5,d.lW,i.yS],styles:[""]}),t})();var q=r(7441),T=r(2458);function y(t,e){if(1&t&&(s.TgZ(0,"mat-label",23),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.messageError," ")}}const b=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:A},{path:"register",component:(()=>{class t{constructor(t,e,r){this.authService=t,this.store=e,this.router=r,this.registerForm=new o.cw({name:new o.NI("",[o.kI.required]),lastname:new o.NI("",[o.kI.required]),identificationType:new o.NI("",[o.kI.required]),identificationNumber:new o.NI("",[o.kI.required]),email:new o.NI("",[o.kI.required]),password:new o.NI("",[o.kI.required])})}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.subscription=this.store.select("shared").subscribe(t=>{t.url&&(this.url=t.url)})}register(){this.registerForm.invalid||this.authService.register(Object.assign({},this.registerForm.value)).subscribe(t=>{this.authService.setToken(t.token),this.store.dispatch(n.o({token:t.token})),this.router.navigate(this.url?[this.url]:["/journeys/search"])},t=>{this.showError=!0,this.messageError=t.error.message})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(u.e),s.Y36(l.yh),s.Y36(i.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-register"]],decls:63,vars:2,consts:[["fxLayout","column","fxLayoutGap","35px",1,"animated","fadeIn"],["color","primary"],["fxLayout","row","fxLayoutAlign","center center"],[1,"mat-elevation-z4"],["fxLayoutAlign","center"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutGap","15px"],["fxLayout","row","fxLayoutGap","15px"],["appearance","fill"],["matInput","","formControlName","name"],["matSuffix",""],["matInput","","formControlName","lastname"],["appearance","fill","fxFlex",""],["formControlName","identificationType"],["value","CC"],["value","TI"],["value","CE"],["matInput","","formControlName","identificationNumber"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["class","color-warn","fxLayoutAlign","center",4,"ngIf"],["mat-raised-button","","color","primary"],["routerLink","/auth/login"],["fxLayoutAlign","center",1,"color-warn"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"mat-toolbar",1),s.TgZ(2,"span"),s._uU(3,"My Application"),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"mat-card",3),s.TgZ(6,"mat-card-header",4),s.TgZ(7,"mat-card-title"),s._uU(8," Crea tu cuenta y vuela con nosotros "),s.qZA(),s.qZA(),s.TgZ(9,"mat-card-content"),s.TgZ(10,"form",5),s.NdJ("ngSubmit",function(){return e.register()}),s.TgZ(11,"div",6),s.TgZ(12,"div",7),s.TgZ(13,"mat-form-field",8),s.TgZ(14,"mat-label"),s._uU(15,"Nombres"),s.qZA(),s._UZ(16,"input",9),s.TgZ(17,"mat-icon",10),s._uU(18,"short_text"),s.qZA(),s.qZA(),s.TgZ(19,"mat-form-field",8),s.TgZ(20,"mat-label"),s._uU(21,"Apellidos"),s.qZA(),s._UZ(22,"input",11),s.TgZ(23,"mat-icon",10),s._uU(24,"short_text"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"div",7),s.TgZ(26,"mat-form-field",12),s.TgZ(27,"mat-label"),s._uU(28,"Tipo de identificaci\xf3n"),s.qZA(),s.TgZ(29,"mat-select",13),s.TgZ(30,"mat-option",14),s._uU(31,"C\xe9dula"),s.qZA(),s.TgZ(32,"mat-option",15),s._uU(33,"Tarjeta de identidad"),s.qZA(),s.TgZ(34,"mat-option",16),s._uU(35,"C\xe9dula extragera"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"mat-form-field",8),s.TgZ(37,"mat-label"),s._uU(38,"N\xfamero de identificaci\xf3n"),s.qZA(),s._UZ(39,"input",17),s.TgZ(40,"mat-icon",10),s._uU(41,"short_text"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(42,"div",7),s.TgZ(43,"mat-form-field",8),s.TgZ(44,"mat-label"),s._uU(45,"Email"),s.qZA(),s._UZ(46,"input",18),s.TgZ(47,"mat-icon",10),s._uU(48,"alternate_email"),s.qZA(),s.qZA(),s.TgZ(49,"mat-form-field",8),s.TgZ(50,"mat-label"),s._uU(51,"Password"),s.qZA(),s._UZ(52,"input",19),s.TgZ(53,"mat-icon",10),s._uU(54,"security"),s.qZA(),s.qZA(),s.YNc(55,y,2,1,"mat-label",20),s.qZA(),s.TgZ(56,"button",21),s._uU(57,"Continuar"),s.qZA(),s.TgZ(58,"span",4),s.TgZ(59,"a",22),s._uU(60," Iniciar sessi\xf3n"),s.qZA(),s.qZA(),s.TgZ(61,"span",4),s._uU(62,"Powered by Digital Ware"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(10),s.Q6J("formGroup",e.registerForm),s.xp6(45),s.Q6J("ngIf",e.showError))},directives:[m.xw,m.SQ,c.Ye,m.Wh,Z.a8,Z.dk,Z.n5,Z.dn,o._Y,o.JL,o.sg,g.KE,g.hX,p.Nt,o.Fj,o.JJ,o.u,f.Hw,g.R9,m.yH,q.gD,T.ey,a.O5,d.lW,i.yS],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.Bz.forChild(b)],i.Bz]}),t})();var _=r(8104);let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[a.ez,w,_.m,o.u5,o.UX,i.Bz]]}),t})()}}]);